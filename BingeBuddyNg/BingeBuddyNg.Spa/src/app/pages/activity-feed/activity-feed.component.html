<!-- Progress spinner -->
<app-progress-spinner *ngIf="isBusy"></app-progress-spinner>

<div id="activity-container" [@listActivities]="isInitialLoad">
  <app-activity *ngFor="let a of activitys" [activity]="a" [currentUser]="currentUser" (commentOpenChanged)="isCommentOpen = $event"></app-activity>
  <mat-progress-spinner [ngClass]="{noactivityspinner: activitys && activitys.length < 5, activityspinner: activitys && activitys.length >= 5}"
    id="loadingSpinner" *ngIf="isReloadSpinnerActive && activitys && activitys.length > 5" mode="indeterminate" color="primary"
    inViewport [inViewportOptions]="{ threshold: [0] }" (inViewportAction)="onAppear($event)"></mat-progress-spinner>
  <app-no-friends *ngIf="!isBusy && activitys && activitys.length === 0"></app-no-friends>
</div>

<div class="bottom-right">
  <eco-fab-speed-dial *ngIf="!isBusyAdding && !isBusyUploading && !isCommentOpen" animationMode="scale" (openChange)="onActionsOpenChange($event)">
    <eco-fab-speed-dial-trigger [spin]="true">
      <button mat-fab color="primary">
        <mat-icon>add</mat-icon>
      </button>
    </eco-fab-speed-dial-trigger>

    <eco-fab-speed-dial-actions class="btn-act">
      <button mat-mini-fab (click)="onAddDrink(DrinkType.Beer)" matTooltip="{{'Beer' | translate}}" matTooltipPosition="left">
        <app-drink-icon [drinkType]="20"></app-drink-icon>
      </button>
      <button mat-mini-fab (click)="onAddDrink(DrinkType.Wine)" matTooltip="{{'Wine' | translate}}" matTooltipPosition="left">
        <app-drink-icon [drinkType]="30"></app-drink-icon>
      </button>
      <button mat-mini-fab (click)="onAddDrink(DrinkType.Shot)" matTooltip="{{'Shot' | translate}}" matTooltipPosition="left">
        <app-drink-icon [drinkType]="40"></app-drink-icon>
      </button>
      <button mat-mini-fab (click)="onAddDrink(DrinkType.Anti)" matTooltip="{{'Anti' | translate}}" matTooltipPosition="left">
        <app-drink-icon [drinkType]="10"></app-drink-icon>
      </button>
      <button id="btn-message" mat-mini-fab (click)="onAddMessage()" matTooltip="{{'PostMessage' | translate}}"
        matTooltipPosition="left">
        <mat-icon>message</mat-icon>
      </button>
      <button mat-mini-fab matTooltip="{{'PostImage' | translate}}" (click)="fileUpload.click()" matTooltipPosition="left">
        <img id="btn-img" class="action-icon" src="../../assets/img/image.png">
      </button>


    </eco-fab-speed-dial-actions>
  </eco-fab-speed-dial>

  <input type="file" #fileUpload id="fileUpload" ng2FileSelect style="display:none;" [uploader]="uploader" />
  <mat-progress-spinner *ngIf="isBusyAdding" mode="indeterminate" diameter="48"></mat-progress-spinner>
  <mat-progress-spinner *ngIf="isBusyUploading" diameter="48" [value]="currentProgress"></mat-progress-spinner>
</div>