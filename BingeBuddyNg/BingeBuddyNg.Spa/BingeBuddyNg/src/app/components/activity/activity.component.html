<mat-card>
  <mat-card-title fxLayout fxLayoutAlign="start center">
    <img class="user-profile-image" [src]="activity.activity.userProfileImageUrl">
    <span class="user-name">{{activity.activity.userName}}</span>
    <mat-chip-list class="stats" *ngIf="activity.userStats.currentNightDrinks + activity.userStats.currentAlcoholization > 0">
      <mat-chip>{{activity.userStats.currentNightDrinks}}
        <mat-icon fxHide fxShow.gt-xs>local_drink</mat-icon>
      </mat-chip>
      <mat-chip>{{activity.userStats.currentAlcoholization}}
        <mat-icon fxHide fxShow.gt-xs>opacity</mat-icon>
      </mat-chip>
    </mat-chip-list>

  </mat-card-title>
  <mat-card-content>
    <span class="message" *ngIf="isMessageActivity()">
      {{activity.activity.message}}
    </span>
    <span class="drink" *ngIf="isDrinkActivity()">
      {{getDrinkMessage()}}
    </span>
    <div class="metadata" fxLayout fxLayoutAlign="space-between center">
      <span class="timestamp">{{activity.activity.timestamp | date:'dd.MM.yyyy HH:mm'}}</span>
      <span class="address"> {{activity.activity.locationAddress}}</span>
    </div>

    <mat-divider></mat-divider>

    <!-- Action Area -->
    <div fxLayout fxLayoutAlign="space-between center" class="actions">
      <div fxLayout>
        <button *ngIf="!isBusyLiking" [disabled]="isLikedByMe()" mat-icon-button (click)="onLike()">
          <span class="count" *ngIf="activity.activity.likes && activity.activity.likes.length > 0">{{activity.activity.likes.length}}</span>
          <mat-icon>thumb_up</mat-icon></button>
        <mat-progress-spinner *ngIf="isBusyLiking" color="accent" mode="indeterminate" diameter="32"></mat-progress-spinner>
        <button *ngIf="!isBusyCheering" [disabled]="isCheeredByMe()" mat-icon-button (click)="onCheers()">
          <span class="count" *ngIf="activity.activity.cheers && activity.activity.cheers.length > 0">{{activity.activity.cheers.length}}</span>
          <img src="../../assets/img/beer-white-32.png"></button>
        <mat-progress-spinner *ngIf="isBusyCheering" color="accent" mode="indeterminate" diameter="32"></mat-progress-spinner>
      </div>

      <button mat-icon-button><mat-icon>comment</mat-icon></button>
    </div>
  </mat-card-content>
</mat-card>